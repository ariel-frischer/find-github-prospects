# find-github-prospects

This repository contains the `repobird-leadgen` tool, a Python CLI application designed to automate the discovery of relevant GitHub repositories and extraction of potential contact information.

## RepoBird LeadGen Tool

`repobird-leadgen` helps find GitHub repositories based on specified criteria (like issue labels, language, stars, and activity) and gathers details including potential contact points.

### Installation

1.  Create and activate a virtual environment using `uv` (assuming you are in the project root):
    ```bash
    uv venv
    source .venv/bin/activate  # On Windows use `.venv\Scripts\activate`
    ```
2.  Install the tool and its dependencies:
    ```bash
    uv pip install -r pyproject.toml --extra dev
    ```
3.  **Install Playwright Browsers:** The optional browser-based checker requires browser binaries. Install them using:
    ```bash
    playwright install
    ```
    *Note: If this command fails due to missing operating system dependencies, you might need to install them manually or try `playwright install --with-deps` (which may require `sudo` and might not work on all Linux distributions).*

### Configuration

`repobird-leadgen` requires a GitHub Personal Access Token (PAT) to interact with the GitHub API.

1.  Copy the example environment file:
    ```bash
    cp .env.example .env
    ```
2.  Edit the newly created `.env` file and add your GitHub PAT:
    ```dotenv
    # .env
    GITHUB_TOKEN=your_github_pat_here
    ```

You can also optionally configure the following settings in the `.env` file:
*   `CONCURRENCY=20` (Number of parallel workers for enrichment, default: 20)
*   `CACHE_DIR=cache` (Directory to store raw search results, default: "cache")
*   `OUTPUT_DIR=output` (Directory to save enriched summary files, default: "output")

### Usage

After installation, run the tool from within the `repobird-leadgen` directory using the `repobird-leadgen` command.

The tool has three main subcommands:

**1. `search`**

Finds repositories matching your criteria and saves the raw data to a JSON cache file.

*   **Usage:**
    ```bash
    repobird-leadgen search [OPTIONS]
    ```
*   **Options:**
    *   `--label` / `-l` TEXT: Issue label to search for (default: "good first issue").
    *   `--language` / `-lang` TEXT: Repository programming language (default: "python").
    *   `--max-results` / `-n` INTEGER: Maximum number of repositories to fetch (default: 30).
    *   `--min-stars` / `-s` INTEGER: Minimum number of stars a repository must have (default: 20).
    *   `--recent-days` / `-d` INTEGER: Maximum number of days since the last push activity (default: 365).
    *   `--cache-file` / `-c` PATH: Path to save the output JSON Lines cache file. If not specified, a filename is generated based on the search parameters (label, language, stars, days) in the `cache/` directory (e.g., `cache/raw_repos_label_good_first_issue_lang_python_stars_20_days_365.jsonl`). If the file already exists, new results are appended, skipping duplicates.
    *   `--max-issue-age-days` INTEGER: Only find repos where at least one matching issue was created within this many days (optional).
    *   `--max-linked-prs` INTEGER: Only find repos where at least one matching issue has this many or fewer linked pull requests (optional).
    *   `--use-browser-checker`: Use Playwright browser automation (slower, less reliable) instead of API calls to check for issue labels.
*   **Example with detailed filters:** Find Python repos with "help wanted" issues created in the last 30 days that have 0 linked PRs:
    ```bash
    repobird-leadgen search --label "good first issue" --language python --max-issue-age-days 30 --max-linked-prs 0
    ```

**2. `enrich`**

Reads a cache file generated by the `search` command, fetches additional details (like contact info and repo stats), and saves summarized information in specified formats.

*   **Usage:**
    ```bash
    repobird-leadgen enrich <CACHE_FILE> [OPTIONS]
    ```
*   **Argument:**
    *   `CACHE_FILE`: Path to the JSON Lines (`.jsonl`) cache file created by the `search` command.
*   **Options:**
    *   `--format` / `-f` [md|jsonl|csv]: Output format(s) for the summaries (default: md, jsonl). Can be specified multiple times.
    *   `--output-dir` / `-o` PATH: Directory to save the summary files (default: "output").
    *   `--concurrency` / `-w` INTEGER: Number of parallel workers for fetching details (default: 20).

**3. `full`**

Runs the `search` and `enrich` steps sequentially using a temporary cache file.

*   **Usage:**
    ```bash
    repobird-leadgen full [OPTIONS]
    ```
*   **Options:** (Combines options from `search` and `enrich`, excluding `--cache-file` from `search`)
    *   `--label` / `-l` TEXT (default: "good first issue")
    *   `--language` / `-lang` TEXT (default: "python")
    *   `--max-results` / `-n` INTEGER (default: 30)
    *   `--min-stars` / `-s` INTEGER (default: 20)
    *   `--recent-days` / `-d` INTEGER (default: 365)
    *   `--use-browser-checker`: Use browser automation for issue checks during the search phase.
    *   `--format` / `-f` [md|jsonl|csv] (default: md, jsonl)
    *   `--output-dir` / `-o` PATH (default: "output")
    *   `--concurrency` / `-w` INTEGER (default: 20)
